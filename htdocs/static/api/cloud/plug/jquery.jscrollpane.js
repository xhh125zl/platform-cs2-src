/*!
 * jScrollPane - v2.0.16 - 2013-07-30
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(e,d,f){e.fn.jScrollPane=function(b){function a(aJ,aH){function aG(v){var u,t,s,p,o,k,i=!1,g=!1;if(aX=v,aV===f){o=aJ.scrollTop(),k=aJ.scrollLeft(),aJ.css({overflow:"hidden",padding:0}),aU=aJ.innerWidth()+bg,aT=aJ.innerHeight(),aJ.width(aU),aV=e('<div class="jspPane" />').css("padding",bn).append(aJ.children()),aS=e('<div class="jspContainer" />').css({width:aU+"px",height:aT+"px"}).append(aV).appendTo(aJ)}else{if(aJ.css("width",""),i=aX.stickToBottom&&bd(),g=aX.stickToRight&&bc(),p=aJ.innerWidth()+bg!=aU||aJ.outerHeight()!=aT,p&&(aU=aJ.innerWidth()+bg,aT=aJ.innerHeight(),aS.css({width:aU+"px",height:aT+"px"})),!p&&aK==aR&&aV.outerHeight()==aQ){return aJ.width(aU),void 0}aK=aR,aV.css("width",""),aJ.width(aU),aS.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}aV.css("overflow","auto"),aR=v.contentWidth?v.contentWidth:aV[0].scrollWidth,aQ=aV[0].scrollHeight,aV.css("overflow",""),aP=aR/aU,aO=aQ/aT,aN=aO>1,aM=aP>1,aM||aN?(aJ.addClass("jspScrollable"),u=aX.maintainPosition&&(bi||af),u&&(t=bf(),s=be()),aF(),aD(),aA(),u&&(ak(g?aR-aU:t,!1),al(i?aQ-aT:s,!1)),a6(),ba(),aZ(),aX.enableKeyboardNavigation&&a4(),aX.clickOnTrack&&av(),a1(),aX.hijackInternalLinks&&a0()):(aJ.removeClass("jspScrollable"),aV.css({top:0,left:0,width:aS.width()-bg}),a8(),a5(),a2(),au()),aX.autoReinitialise&&!bs?bs=setInterval(function(){aG(aX)},aX.autoReinitialiseDelay):!aX.autoReinitialise&&bs&&clearInterval(bs),o&&aJ.scrollTop(0)&&al(o,!1),k&&aJ.scrollLeft(0)&&ak(k,!1),aJ.trigger("jsp-initialised",[aM||aN])}function aF(){aN&&(aS.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),aa=aS.find(">.jspVerticalBar"),bp=aa.find(">.jspTrack"),bm=bp.find(">.jspDrag"),aX.showArrows&&(ag=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",ay(0,-1)).bind("click.jsp",a7),ac=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",ay(0,1)).bind("click.jsp",a7),aX.arrowScrollOnHover&&(ag.bind("mouseover.jsp",ay(0,-1,ag)),ac.bind("mouseover.jsp",ay(0,1,ac))),az(bp,aX.verticalArrowPositions,ag,ac)),a3=aT,aS.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){a3-=e(this).outerHeight()}),bm.hover(function(){bm.addClass("jspHover")},function(){bm.removeClass("jspHover")}).bind("mousedown.jsp",function(g){e("html").bind("dragstart.jsp selectstart.jsp",a7),bm.addClass("jspActive");var h=g.pageY-bm.position().top;return e("html").bind("mousemove.jsp",function(i){ar(i.pageY-h,!1)}).bind("mouseup.jsp mouseleave.jsp",at),!1}),aE())}function aE(){bp.height(a3+"px"),bi=0,bj=aX.verticalGutter+bp.outerWidth(),aV.width(aU-bj-bg);try{0===aa.position().left&&aV.css("margin-left",bj+"px")}catch(g){}}function aD(){aM&&(aS.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),br=aS.find(">.jspHorizontalBar"),bl=br.find(">.jspTrack"),aW=bl.find(">.jspDrag"),aX.showArrows&&(ah=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",ay(-1,0)).bind("click.jsp",a7),ad=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",ay(1,0)).bind("click.jsp",a7),aX.arrowScrollOnHover&&(ah.bind("mouseover.jsp",ay(-1,0,ah)),ad.bind("mouseover.jsp",ay(1,0,ad))),az(bl,aX.horizontalArrowPositions,ah,ad)),aW.hover(function(){aW.addClass("jspHover")},function(){aW.removeClass("jspHover")}).bind("mousedown.jsp",function(g){e("html").bind("dragstart.jsp selectstart.jsp",a7),aW.addClass("jspActive");var h=g.pageX-aW.position().left;return e("html").bind("mousemove.jsp",function(i){ap(i.pageX-h,!1)}).bind("mouseup.jsp mouseleave.jsp",at),!1}),a9=aS.innerWidth(),aB())}function aB(){aS.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){a9-=e(this).outerWidth()}),bl.width(a9+"px"),af=0}function aA(){if(aM&&aN){var g=bl.outerHeight(),h=bp.outerWidth();a3-=g,e(br).find(">.jspCap:visible,>.jspArrow").each(function(){a9+=e(this).outerWidth()}),a9-=h,aT-=h,aU-=g,bl.parent().append(e('<div class="jspCorner" />').css("width",g+"px")),aE(),aB()}aM&&aV.width(aS.outerWidth()-bg+"px"),aQ=aV.outerHeight(),aO=aQ/aT,aM&&(aI=Math.ceil(1/aP*a9),aI>aX.horizontalDragMaxWidth?aI=aX.horizontalDragMaxWidth:aI<aX.horizontalDragMinWidth&&(aI=aX.horizontalDragMinWidth),aW.width(aI+"px"),aw=a9-aI,ao(af)),aN&&(aC=Math.ceil(1/aO*a3),aC>aX.verticalDragMaxHeight?aC=aX.verticalDragMaxHeight:aC<aX.verticalDragMinHeight&&(aC=aX.verticalDragMinHeight),bm.height(aC+"px"),aL=a3-aC,aq(bi))}function az(i,h,n,m){var l,k="before",j="after";"os"==h&&(h=/Mac/.test(navigator.platform)?"after":"split"),h==k?j=h:h==j&&(k=h,l=n,n=m,m=l),i[k](n)[j](m)}function ay(h,g,i){return function(){return ax(h,g,this,i),this.blur(),!1}}function ax(j,q,p,o){p=e(p).addClass("jspActive");var n,m,l=!0,k=function(){0!==j&&ai.scrollByX(j*aX.arrowButtonSpeed),0!==q&&ai.scrollByY(q*aX.arrowButtonSpeed),m=setTimeout(k,l?aX.initialDelay:aX.arrowRepeatFreq),l=!1};k(),n=o?"mouseout.jsp":"mouseup.jsp",o=o||e("html"),o.bind(n,function(){p.removeClass("jspActive"),m&&clearTimeout(m),m=null,o.unbind(n)})}function av(){au(),aN&&bp.bind("mousedown.jsp",function(k){if(k.originalTarget===f||k.originalTarget==k.currentTarget){var r,q=e(this),p=q.offset(),o=k.pageY-p.top-bi,n=!0,m=function(){var g=q.offset(),j=k.pageY-g.top-aC/2,i=aT*aX.scrollPagePercent,h=aL*i/(aQ-aT);if(0>o){bi-h>j?ai.scrollByY(-i):ar(j)}else{if(!(o>0)){return l(),void 0}j>bi+h?ai.scrollByY(i):ar(j)}r=setTimeout(m,n?aX.initialDelay:aX.trackClickRepeatFreq),n=!1},l=function(){r&&clearTimeout(r),r=null,e(document).unbind("mouseup.jsp",l)};return m(),e(document).bind("mouseup.jsp",l),!1}}),aM&&bl.bind("mousedown.jsp",function(k){if(k.originalTarget===f||k.originalTarget==k.currentTarget){var r,q=e(this),p=q.offset(),o=k.pageX-p.left-af,n=!0,m=function(){var g=q.offset(),j=k.pageX-g.left-aI/2,i=aU*aX.scrollPagePercent,h=aw*i/(aR-aU);if(0>o){af-h>j?ai.scrollByX(-i):ap(j)}else{if(!(o>0)){return l(),void 0}j>af+h?ai.scrollByX(i):ap(j)}r=setTimeout(m,n?aX.initialDelay:aX.trackClickRepeatFreq),n=!1},l=function(){r&&clearTimeout(r),r=null,e(document).unbind("mouseup.jsp",l)};return m(),e(document).bind("mouseup.jsp",l),!1}})}function au(){bl&&bl.unbind("mousedown.jsp"),bp&&bp.unbind("mousedown.jsp")}function at(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),bm&&bm.removeClass("jspActive"),aW&&aW.removeClass("jspActive")}function ar(h,g){aN&&(0>h?h=0:h>aL&&(h=aL),g===f&&(g=aX.animateScroll),g?ai.animate(bm,"top",h,aq):(bm.css("top",h),aq(h)))}function aq(i){i===f&&(i=bm.position().top),aS.scrollTop(0),bi=i;var h=0===bi,l=bi==aL,k=i/aL,j=-k*(aQ-aT);(ae!=h||bo!=l)&&(ae=h,bo=l,aJ.trigger("jsp-arrow-change",[ae,bo,c,bh])),an(h,l),aV.css("top",j),aJ.trigger("jsp-scroll-y",[-j,h,l]).trigger("scroll")}function ap(h,g){aM&&(0>h?h=0:h>aw&&(h=aw),g===f&&(g=aX.animateScroll),g?ai.animate(aW,"left",h,ao):(aW.css("left",h),ao(h)))}function ao(i){i===f&&(i=aW.position().left),aS.scrollTop(0),af=i;var h=0===af,l=af==aw,k=i/aw,j=-k*(aR-aU);(c!=h||bh!=l)&&(c=h,bh=l,aJ.trigger("jsp-arrow-change",[ae,bo,c,bh])),am(h,l),aV.css("left",j),aJ.trigger("jsp-scroll-x",[-j,h,l]).trigger("scroll")}function an(h,g){aX.showArrows&&(ag[h?"addClass":"removeClass"]("jspDisabled"),ac[g?"addClass":"removeClass"]("jspDisabled"))}function am(h,g){aX.showArrows&&(ah[h?"addClass":"removeClass"]("jspDisabled"),ad[g?"addClass":"removeClass"]("jspDisabled"))}function al(h,g){var i=h/(aQ-aT);ar(i*aL,g)}function ak(h,g){var i=h/(aR-aU);ap(i*aw,g)}function aj(E,D,C){var B,A,z,y,x,w,v,u,t,s=0,r=0;try{B=e(E)}catch(q){return}for(A=B.outerHeight(),z=B.outerWidth(),aS.scrollTop(0),aS.scrollLeft(0);!B.is(".jspPane");){if(s+=B.position().top,r+=B.position().left,B=B.offsetParent(),/^body|html$/i.test(B[0].nodeName)){return}}y=be(),w=y+aT,y>s||D?u=s-aX.verticalGutter:s+A>w&&(u=s-aT+A+aX.verticalGutter),isNaN(u)||al(u,C),x=bf(),v=x+aU,x>r||D?t=r-aX.horizontalGutter:r+z>v&&(t=r-aU+z+aX.horizontalGutter),isNaN(t)||ak(t,C)}function bf(){return -aV.position().left}function be(){return -aV.position().top}function bd(){var g=aQ-aT;return g>20&&g-be()<10}function bc(){var g=aR-aU;return g>20&&g-bf()<10}function ba(){aS.unbind(bk).bind(bk,function(h,g,l,k){var j=af,i=bi;return ai.scrollBy(l*aX.mouseWheelSpeed,-k*aX.mouseWheelSpeed,!1),j==af&&i==bi})}function a8(){aS.unbind(bk)}function a7(){return !1}function a6(){aV.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){aj(g.target,!1)})}function a5(){aV.find(":input,a").unbind("focus.jsp")}function a4(){function g(){var l=af,k=bi;switch(j){case 40:ai.scrollByY(aX.keyboardSpeed,!1);break;case 38:ai.scrollByY(-aX.keyboardSpeed,!1);break;case 34:case 32:ai.scrollByY(aT*aX.scrollPagePercent,!1);break;case 33:ai.scrollByY(-aT*aX.scrollPagePercent,!1);break;case 39:ai.scrollByX(aX.keyboardSpeed,!1);break;case 37:ai.scrollByX(-aX.keyboardSpeed,!1)}return i=l!=af||k!=bi}var j,i,h=[];aM&&h.push(br[0]),aN&&h.push(aa[0]),aV.focus(function(){aJ.focus()}),aJ.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(m){if(m.target===this||h.length&&e(m.target).closest(h).length){var l=af,k=bi;switch(m.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:j=m.keyCode,g();break;case 35:al(aQ-aT),j=null;break;case 36:al(0),j=null}return i=m.keyCode==j&&l!=af||k!=bi,!i}}).bind("keypress.jsp",function(k){return k.keyCode==j&&g(),!i}),aX.hideFocus?(aJ.css("outline","none"),"hideFocus" in aS[0]&&aJ.attr("hideFocus",!0)):(aJ.css("outline",""),"hideFocus" in aS[0]&&aJ.attr("hideFocus",!1))}function a2(){aJ.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function a1(){if(location.hash&&location.hash.length>1){var g,j,i=escape(location.hash.substr(1));try{g=e("#"+i+', a[name="'+i+'"]')}catch(h){return}g.length&&aV.find(i)&&(0===aS.scrollTop()?j=setInterval(function(){aS.scrollTop()>0&&(aj(g,!0),e(document).scrollTop(aS.position().top),clearInterval(j))},50):(aj(g,!0),e(document).scrollTop(aS.position().top)))}}function a0(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(v){var u,t,s,r,q,p,o=this.href.substr(0,this.href.indexOf("#")),n=location.href;if(-1!==location.href.indexOf("#")&&(n=location.href.substr(0,location.href.indexOf("#"))),o===n){u=escape(this.href.substr(this.href.indexOf("#")+1));try{t=e("#"+u+', a[name="'+u+'"]')}catch(m){return}t.length&&(s=t.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(t,!0),s[0].scrollIntoView&&(q=e(d).scrollTop(),p=t.offset().top,(q>p||p>q+e(d).height())&&s[0].scrollIntoView()),v.preventDefault())}}))}function aZ(){var h,g,l,k,j,i=!1;aS.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(n){var m=n.originalEvent.touches[0];h=bf(),g=be(),l=m.pageX,k=m.pageY,j=!1,i=!0}).bind("touchmove.jsp",function(p){if(i){var o=p.originalEvent.touches[0],n=af,m=bi;return ai.scrollTo(h+l-o.pageX,g+k-o.pageY),j=j||Math.abs(l-o.pageX)>5||Math.abs(k-o.pageY)>5,n==af&&m==bi}}).bind("touchend.jsp",function(){i=!1}).bind("click.jsp-touchclick",function(){return j?(j=!1,!1):void 0})}function aY(){var h=be(),g=bf();aJ.removeClass("jspScrollable").unbind(".jsp"),aJ.replaceWith(bq.append(aV.children())),bq.scrollTop(h),bq.scrollLeft(g),bs&&clearInterval(bs)}var aX,aV,aU,aT,aS,aR,aQ,aP,aO,aN,aM,bm,aL,bi,aW,aw,af,aa,bp,bj,a3,aC,ag,ac,br,bl,a9,aI,ah,ad,bs,bn,bg,aK,ai=this,ae=!0,c=!0,bo=!1,bh=!1,bq=aJ.clone(!1,!1).empty(),bk=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bn=aJ.css("paddingTop")+" "+aJ.css("paddingRight")+" "+aJ.css("paddingBottom")+" "+aJ.css("paddingLeft"),bg=(parseInt(aJ.css("paddingLeft"),10)||0)+(parseInt(aJ.css("paddingRight"),10)||0),e.extend(ai,{reinitialise:function(g){g=e.extend({},aX,g),aG(g)},scrollToElement:function(h,g,i){aj(h,g,i)},scrollTo:function(h,g,i){ak(h,i),al(g,i)},scrollToX:function(h,g){ak(h,g)},scrollToY:function(h,g){al(h,g)},scrollToPercentX:function(h,g){ak(h*(aR-aU),g)},scrollToPercentY:function(h,g){al(h*(aQ-aT),g)},scrollBy:function(h,g,i){ai.scrollByX(h,i),ai.scrollByY(g,i)},scrollByX:function(h,g){var j=bf()+Math[0>h?"floor":"ceil"](h),i=j/(aR-aU);ap(i*aw,g)},scrollByY:function(h,g){var j=be()+Math[0>h?"floor":"ceil"](h),i=j/(aQ-aT);ar(i*aL,g)},positionDragX:function(h,g){ap(h,g)},positionDragY:function(h,g){ar(h,g)},animate:function(h,g,k,j){var i={};i[g]=k,h.animate(i,{duration:aX.animateDuration,easing:aX.animateEase,queue:!1,step:j})},getContentPositionX:function(){return bf()},getContentPositionY:function(){return be()},getContentWidth:function(){return aR},getContentHeight:function(){return aQ},getPercentScrolledX:function(){return bf()/(aR-aU)},getPercentScrolledY:function(){return be()/(aQ-aT)},getIsScrollableH:function(){return aM},getIsScrollableV:function(){return aN},getContentPane:function(){return aV},scrollToBottom:function(g){ar(aL,g)},hijackInternalLinks:e.noop,destroy:function(){aY()}}),aG(aH)}return b=e.extend({},e.fn.jScrollPane.defaults,b),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed}),this.each(function(){var g=e(this),h=g.data("jsp");h?h.reinitialise(b):(e("script",g).filter('[type="text/javascript"],:not([type])').remove(),h=new a(g,b),g.data("jsp",h))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:20,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);